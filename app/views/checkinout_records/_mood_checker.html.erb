<div class="mt-6" data-controller="mood-checker" data-mood-checker-record-id-value="<%= record.id %>">
    <!-- æ°—åˆ†é¸æŠã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
    <div class="mb-6">
        <p class="text-lg mb-3">ä»Šã®æ°—åˆ†ã‚’æ•™ãˆã¦ãã ã•ã„ ğŸŒ¤ï¸</p>

        <div class="flex justify-center gap-4">
            <button data-action="click->mood-checker#select" data-mood="happy"
                    class="mood-btn bg-green-400 hover:bg-green-500 text-white px-4 py-2 rounded transition-all"
                    <%= 'disabled style="opacity: 0.5;"'.html_safe if defined?(show_mood_success) && show_mood_success %>>
            ğŸ˜Š è‰¯ã„
            </button>
            <button data-action="click->mood-checker#select" data-mood="neutral"
                    class="mood-btn bg-yellow-400 hover:bg-yellow-500 text-white px-4 py-2 rounded transition-all"
                    <%= 'disabled style="opacity: 0.5;"'.html_safe if defined?(show_mood_success) && show_mood_success %>>
            ğŸ˜ æ™®é€š
            </button>
            <button data-action="click->mood-checker#select" data-mood="sad"
                    class="mood-btn bg-blue-400 hover:bg-blue-500 text-white px-4 py-2 rounded transition-all"
                    <%= 'disabled style="opacity: 0.5;"'.html_safe if defined?(show_mood_success) && show_mood_success %>>
            ğŸ˜¢ æ‚ªã„
            </button>
        </div>

        <!-- æ°—åˆ†é¸æŠã®çŠ¶æ…‹è¡¨ç¤º -->
        <div data-mood-checker-target="moodStatus"
            class="text-center mt-2 <%= defined?(show_mood_success) && show_mood_success ? '' : 'hidden' %>">
            <span class="text-sm text-green-600 font-medium">âœ… æ°—åˆ†ã‚’è¨˜éŒ²ã—ã¾ã—ãŸ</span>
            <% if record.mood&.feeling.present? %>
            <span class="text-lg ml-2"><%= record.mood.mood_emoji %></span>
            <% end %>
        </div>
    </div>

    <!-- åŒºåˆ‡ã‚Šç·š -->
    <div class="border-t border-gray-200 my-4"></div>

    <!-- æ°—åˆ†ãƒ¡ãƒ¢ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
        <div>
            <p class="text-lg mb-3">ğŸ’­ æ°—åˆ†ãƒ¡ãƒ¢ï¼ˆä»»æ„ï¼‰</p>

            <textarea
                data-mood-checker-target="comment"
                placeholder="ä»Šã®æ°—åˆ†ã«ã¤ã„ã¦è©³ã—ãæ›¸ã„ã¦ã¿ã¾ã›ã‚“ã‹ï¼Ÿ"
                class="textarea textarea-bordered w-full bg-white resize-none"
                style="color: black !important;"
                rows="3"
                maxlength="140"
                <%= 'disabled style="opacity: 0.5;"'.html_safe if defined?(show_comment_success) && show_comment_success %>><%= record.mood&.comment %></textarea>

            <!-- æ–‡å­—æ•°ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ -->
            <div class="flex justify-between items-center mt-2">
                <div data-mood-checker-target="commentStatus"
                    class="text-sm text-green-600 <%= defined?(show_comment_success) && show_comment_success ? '' : 'hidden' %>">
                    âœ… ãƒ¡ãƒ¢ã‚’ä¿å­˜ã—ã¾ã—ãŸ
                </div>
                <div class="text-sm text-gray-500">
                    <span data-mood-checker-target="counter"><%= record.mood&.comment&.length || 0 %></span>/140
                </div>
            </div>

            <!-- ãƒ¡ãƒ¢ä¿å­˜ãƒœã‚¿ãƒ³ -->
            <button
                data-action="click->mood-checker#saveComment"
                data-mood-checker-target="saveButton"
                class="btn btn-primary mt-3 w-full"
                <%= 'disabled style="opacity: 0.5;"'.html_safe if defined?(show_comment_success) && show_comment_success %>>
                <% if defined?(show_comment_success) && show_comment_success %>
                    âœ… ä¿å­˜æ¸ˆã¿
                <% else %>
                    ğŸ’­ æ°—åˆ†ãƒ¡ãƒ¢ã‚’ä¿å­˜
                <% end %>
            </button>
        </div>
    </div>
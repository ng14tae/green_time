<!-- å‹¤å‹™çµ±è¨ˆã‚«ãƒ¼ãƒ‰ -->
<div class="card bg-base-100 shadow-xl mb-6 w-full">
    <div class="card-body p-4 sm:p-6">
        <h2 class="card-title text-lg sm:text-xl mb-4 justify-center">å‹¤å‹™çµ±è¨ˆ</h2>

        <div class="grid grid-cols-3 gap-3 sm:gap-4">
        <!-- ä»Šæ—¥ -->
        <div class="flex flex-col items-center text-center">
            <div class="text-2xl sm:text-3xl mb-2">ðŸ“…</div>
            <div class="text-xs sm:text-sm text-base-content/70 mb-1">ä»Šæ—¥</div>

            <% if today_record %>
            <div class="text-lg sm:text-xl font-bold text-success mb-1">å‹¤å‹™ä¸­</div>
            <div class="text-xs text-base-content/70">
                <%= today_record.checkin_time.strftime("%H:%M") %>ã€œ
            </div>
            <% else %>
            <% todays_completed = CheckinoutRecord.where(
                user_id: current_user.id,
                checkin_time: Time.current.beginning_of_day..Time.current.end_of_day
            ).where.not(checkout_time: nil).first %>

            <% if todays_completed %>
                <div class="text-lg sm:text-xl font-bold text-info mb-1">å®Œäº†</div>
                <div class="text-xs text-base-content/70">
                <%= sprintf("%.1fh", (todays_completed.checkout_time - todays_completed.checkin_time) / 3600.0) %>
                </div>
            <% else %>
                <div class="text-lg sm:text-xl font-bold text-base-content/50">æœªå‹¤å‹™</div>
                <div class="text-xs text-base-content/50">-</div>
            <% end %>
            <% end %>
        </div>

        <!-- ä»Šé€± -->
        <div class="flex flex-col items-center text-center">
            <div class="text-2xl sm:text-3xl mb-2">ðŸ“Š</div>
            <div class="text-xs sm:text-sm text-base-content/70 mb-1">ä»Šé€±</div>
            <div class="text-lg sm:text-xl font-bold text-info mb-1">
            <%= weekly_stats[:total_days] %>æ—¥
            </div>
            <div class="text-xs text-base-content/70">
            <%= sprintf("%.1fh", weekly_stats[:total_hours]) %>
            </div>
        </div>

        <!-- ä»Šæœˆ -->
        <div class="flex flex-col items-center text-center">
            <div class="text-2xl sm:text-3xl mb-2">ðŸ“ˆ</div>
            <div class="text-xs sm:text-sm text-base-content/70 mb-1">ä»Šæœˆ</div>
            <div class="text-lg sm:text-xl font-bold text-secondary mb-1">
            <%= monthly_stats[:total_days] %>æ—¥
            </div>
            <div class="text-xs text-base-content/70">
            <%= sprintf("%.1fh", monthly_stats[:total_hours]) %>
            </div>
        </div>
        </div>
    </div>
</div>
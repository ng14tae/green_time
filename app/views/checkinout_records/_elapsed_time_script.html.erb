<script>
function updateElapsedTime() {
    const checkinTime = new Date('<%= today_record.checkin_time.iso8601 %>');
    const now = new Date();
    const elapsed = Math.floor((now - checkinTime) / 1000);

    const hours = Math.floor(elapsed / 3600);
    const minutes = Math.floor((elapsed % 3600) / 60);

    const elapsedElement = document.getElementById('elapsed-time');
    if (elapsedElement) {
        elapsedElement.textContent = hours + '時間' + minutes + '分';
    }
}

// 初回実行
updateElapsedTime();

// 1分ごとに更新
setInterval(updateElapsedTime, 60000);
</script>
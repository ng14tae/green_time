<div class="hero min-h-screen bg-red-500">
    <div class="hero-content text-center text-white">
        <div class="max-w-md py-8">
        <p class="text-xl mb-8">お疲れさまでした</p>
        <h1 class="text-5xl font-bold mb-5 fukidashi-02-01 mx-auto">Good Job!</h1>

        <!-- 緑ちゃんブース -->
        <%= image_tag "kuma.png", alt: "ポチ", class: "mx-auto w-48 h-48 object-contain" %>
        <div class="max-w-md mb-8">
            <p><%= current_plant_name %></p>
        </div>

        <% if @today_record %>
            <div class="work-summary mb-8 bg-white/20 rounded-lg p-6">
            <p class="text-lg"><%= Date.current.strftime("%Y年%m月%d日 (%a)") %></p><br>
            <p class="text-lg">現在時刻</p>
            <p class="text-3xl font-mono" id="current-time"><%= Time.current.strftime("%H:%M:%S") %></p><br>

            <p class="text-lg mb-2">チェックイン時刻</p>
            <p class="text-2xl font-mono mb-4"><%= @today_record.checkin_time.strftime("%H:%M") %></p>

            <p class="text-lg mb-2">活動時間</p>
            <p class="text-3xl font-mono" id="working-time"
                data-checkin-time="<%= @today_record.checkin_time.in_time_zone('Asia/Tokyo').iso8601 %>">
                <%= time_diff(@today_record.checkin_time, Time.current) %>
            </p>
            </div>

            <!-- 気分チェッカー -->
            <div class="max-w-md mb-4">
            <div id="mood-checker">
                <%= render 'checkinout_records/components/mood_checker',
                            record: @today_record,
                            show_mood_success: @today_record.mood&.feeling.present?,
                            show_comment_success: @today_record.mood&.comment.present? %>
            </div>
            </div>

            <div class="border-t border-gray-300 my-1"></div>

            <!-- ボタンエリア -->
            <div class="space-y-4 py-4 mt-4">
            <%= form_with url: checkout_path, method: :patch, data: { turbo: false } do |f| %>
                <%= f.submit "チェックアウト", id: "checkout-button",
                            class: "btn btn-lg px-16 py-4 text-2xl shadow-lg w-full bg-primary hover:bg-orange-900 text-error border-0" %>
            <% end %>

            <%= link_to mypage_path,
                class: "btn btn-outline btn-lg px-16 py-4 text-2xl shadow-lg w-full block border-white text-white hover:bg-white/70 hover:border-white hover:text-orange-600 mb-8" do %>
                マイページを見る
            <% end %>
            </div>
        <% else %>
            <p class="text-lg mt-8">チェックアウトできる記録がありません。</p>
            <%= link_to checkin_path,
                class: "btn btn-success btn-lg px-16 py-4 text-2xl shadow-lg w-full mt-4" do %>
            チェックインページへ戻る
            <% end %>
        <% end %>
        </div>
    </div>
</div>
